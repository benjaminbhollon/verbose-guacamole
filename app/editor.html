<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'">
    <title>Verbose Guacamole</title>
    <link rel="stylesheet" href="./assets/css/simplemde.css">
    <link rel="stylesheet" href="./assets/css/global.css">
    <link rel="stylesheet" href="./assets/css/editor.css">
  </head>
  <body>
    <div id="loading">
      <p></p>
      <script>
          const wittyLoaders = [
            'Stealing Hemingway\'s notes',
            'Banishing writers\' block',
            'Summoning infinite monkeys',
            'Drinking too much coffee',
            'Retconning continuity flaws',
            'Suspending disbelief',
            'Hanging from cliffs',
            'Streaming consciousness',
            'Checking Wikipedia',
            'Padding word count',
            'Living happily ever after',
            'Procrastinating',
            'Quoting the Raven'
          ];
          document.querySelector('#loading p').innerText = wittyLoaders[Date.now() % wittyLoaders.length];

        setTimeout(() => {
          document.getElementById('loading').style.display = 'none';
        }, 4000);
      </script>
    </div>
    <section id="fileTree" oncontextmenu="showContextMenu(event)" ondrop="moveItem(event, getDraggingIndex(), false)" ondragover="event.preventDefault()">
      <div id="fileTree__actions" ondrop="api.moveItem(event, getDraggingIndex(), true)">
        <div class="left">
          <a href="#" title="Create file or folder" class="fa fa-plus" onclick="showContextMenu(event)"></a>
        </div>
        <div class="right">
          <a href="#" title="Search files and folders" class="fa fa-search" onclick="toggleSearch()"></a>
        </div>
      </div>
      <input onblur="if (!this.value.length) toggleSearch()" oninput="search(this.value)" id="fileTree__search" class="hidden" placeholder="Search files...">
      <div id="fileTree__list">

      </div>
    </section>
    <section id="editor">
      <textarea id="editorTextarea" autocorrect='on'></textarea>
      <footer id="editor__stats">0 words.</footer>
    </section>
    <section id="git">
      <h3>Commits</h3>
      <div id="git__commits">

      </div>
      <textarea id="git__commitText" placeholder="Commit message" spellcheck="false"></textarea>
      <button onclick='api.commit()' id="git__commitButton">Commit</button>
      <p><a href="./help/git/commits.html" target="_blank">What are commits?</a></p>
    </section>
    <div id="contextMenu">
      <span onclick="api.deleteItem()" id="deleteButton">Delete</span>
      <span onclick="api.startRename(document.querySelector('.active'))" id="renameButton">Rename</span>
      <hr>
      <span onclick="api.createItem('file')">Create File</span>
      <span onclick="api.createItem('folder')">Create Folder</span>
    </div>
    <div id="spellcheckMenu">
    </div>
    <script src="./assets/js/editor.js" defer></script>
  </body>
</html>
